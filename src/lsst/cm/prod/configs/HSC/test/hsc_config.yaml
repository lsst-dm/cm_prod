campaign:
    root_coll: cm
    data_query: "instrument = 'HSC' and exposure < 500"
    input_type: tagged
    output_type: chained
    templates:
        coll_source: HSC/raw/RC2
        coll_in: "{root_coll}/{fullname}_input"
        coll_out: "{root_coll}/{fullname}_ouput"
        coll_ancil: "{root_coll}/{fullname}_ancil"
    prepare:
        prepare:
            class_name: lsst.cm.tools.db.script_handler.PrepareScriptHandler
            stamp: completed
        ancil:
            class_name: lsst.cm.tools.db.script_handler.AncillaryScriptHandler
            stamp: completed
    collect:
        collect:
            class_name: lsst.cm.tools.db.script_handler.CollectScriptHandler
            stamp: completed
step:
    input_type: source
    output_type: chained
    templates:
        coll_out: "{root_coll}/{fullname}_ouput"
    prepare:
        prepare:
            class_name: lsst.cm.tools.db.script_handler.PrepareScriptHandler
            stamp: completed
    collect:
        collect:
            class_name: lsst.cm.tools.db.script_handler.CollectScriptHandler
            stamp: completed
group:
    input_type: tagged
    output_type: chained
    templates:
        coll_in: "{root_coll}/{fullname}_input"
        coll_out: "{root_coll}/{fullname}_ouput"
    prepare:
        prepare:
            class_name: lsst.cm.tools.db.script_handler.PrepareScriptHandler
            stamp: completed
    collect:
        collect:
            class_name: lsst.cm.tools.db.script_handler.CollectScriptHandler
            stamp: completed
workflow:
    input_type: source
    output_type: run
    templates:
        coll_out: "{root_coll}/{fullname}_ouput"
job:
    bps_template_yaml: "src/lsst/cm/prod/configs/HSC/test/hsc_template.yaml"
    sw_image: ""
    pipeline_yaml:
        step1: "${DRP_PIPE_DIR}/pipelines/HSC/DRP-RC2.yaml#step1"
        step2: "${DRP_PIPE_DIR}/pipelines/HSC/DRP-RC2.yaml#step2"
        step3: "${DRP_PIPE_DIR}/pipelines/HSC/DRP-RC2.yaml#step3"
        step4: "${DRP_PIPE_DIR}/pipelines/HSC/DRP-RC2.yaml#step4"
        step5: "${DRP_PIPE_DIR}/pipelines/HSC/DRP-RC2.yaml#step5"
        step6: "${DRP_PIPE_DIR}/pipelines/HSC/DRP-RC2.yaml#step6"
        step7: "${DRP_PIPE_DIR}/pipelines/HSC/DRP-RC2.yaml#step7"
ancil:
    collections:
        - HSC/calib
        - HSC/masks
        - HSC/fgcmcal/lut/RC2
        - refcats
        - skymaps
